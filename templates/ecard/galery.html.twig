{% extends 'base.html.twig' %}

{% block body %}

    {% if app.user %}
        <div class=" d-flex flex-row flex-wrap justify-content-center ">
            {% for ecard in ecards %}

                <div
                    class=" d-flex flex-column align-self-center  m-3 p-2  flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front bg-primary-inverse shadow-lg ">
                            <h1 class="my-3 mx-2 text-center">{{ ecard.painting.title }}</h1>
                            <img class="img-fluid  "
                                 src="{{ vich_uploader_asset(ecard.painting)|imagine_filter('limit450') }}"
                                 alt="{{ ecard.painting.title }}">
                            <div class="m-3 text-start">
                                <p><span
                                        class="fw-bold ">Expéditeur :</span> {{ ecard.user.firstname ~ ' ' ~ ecard.user.lastname }}
                                    ({{ ecard.user.email }})</p>
                                <p><span class="fw-bold">Date d'envoi : </span>{{ ecard.sendedAt|date('d/m/Y') }}</p>
                            </div>
                        </div>
                        <div class="flip-card-back bg-primary-inverse shadow-lg text-start position-relative ">
                            <p class="w-100 m-3 "><span class="fw-bold mb-3">Message :</span>
                                <br> {{ ecard.message|nl2br }}</p>
                            <a class=" text-black  position-absolute bottom-0 end-0 mb-1 me-1"
                               href="{{ path('painting_show', { id: ecard.painting.id}) }}">+ d'infos sur l'oeuvre</a>
                        </div>

                    </div>

                </div>
            {% endfor %}
        </div>

    {% endif %}
    <div class="d-flex justify-content-center ">
        {{ knp_pagination_render(ecards) }}
    </div>
{% endblock %}

    {% block title %}Mes E-cards envoyées

    {% endblock %}

