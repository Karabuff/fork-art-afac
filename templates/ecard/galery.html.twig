{% extends 'base.html.twig' %}

{% block body %}


    {% if ecards|length == 0 %}
        <div class="container404 text-center  my-auto ">

            <h1 class="fw-bold">Aucune E-card à afficher.</h1>
            <p>Cliquez sur le bouton en dessous pour visiter notre galerie.</p>
            <a href="{{ path('galery_index') }}" class="btn btn-primary">Galerie</a>


        </div>
    {% else %}
        <div class=" d-flex flex-row flex-wrap justify-content-center ">
            {% for ecard in ecards %}

                <div
                    class=" d-flex flex-column align-self-center  m-3 p-2  flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front bg-primary-inverse shadow-lg ">
                            <h1 class="my-3 mx-2 text-center">{{ ecard.painting.title }}</h1>
                            <img class="img-fluid  "
                                 src="{{ vich_uploader_asset(ecard.painting)|imagine_filter('limit450') }}"
                                 alt="{{ ecard.painting.title }}">
                            <div class="m-3 text-start">
                                <p><span
                                        class="fw-bold ">Expéditeur :</span> {{ ecard.user.firstname ~ ' ' ~ ecard.user.lastname }}
                                    ({{ ecard.user.email }})</p>
                                <p><span class="fw-bold">Date d'envoi : </span>{{ ecard.sendedAt|date('d/m/Y') }}</p>
                            </div>
                        </div>
                        <div class="flip-card-back bg-primary-inverse shadow-lg text-start position-relative p-4">
                            <p class="w-100   "><span class="fw-bold mb-3">Message :</span>
                                {{ ecard.message|raw }}</p>
                            <div class="position-absolute bottom-0 d-flex flex-column bottom-0 end-0 mb-1 me-1 text-end">
                                <a  class="text-black" href="{{ url('app_ecard_show', { uuid: ecard.uuid }) }}">Voir l'Ecard</a>
                                <a class=" text-black   "
                                   href="{{ path('painting_show', { id: ecard.painting.id}) }}">+ d'infos sur l'oeuvre</a>
                            </div>
                        </div>


                    </div>

                </div>
            {% endfor %}
        </div>
        <div class="d-flex justify-content-center ">
            {{ knp_pagination_render(ecards) }}
        </div>
    {% endif %}



{% endblock %}

    {% block title %}Mes E-cards envoyées

    {% endblock %}

